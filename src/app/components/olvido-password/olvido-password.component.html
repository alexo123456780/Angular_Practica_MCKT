<div class="contenedor">
    <div class="tarjeta">
      <div class="encabezado">
        <h1 class="titulo">Cambiar Contraseña</h1>
        <div class="icono-animado">
          <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
        </div>
      </div>
  
      <form [formGroup]="formularioPasword" (ngSubmit)="cambiarPassword()" class="formulario">
        <div class="campo-grupo">
          <label for="password" class="etiqueta">Nueva Contraseña</label>
          <div class="campo-entrada">
            <input 
              type="password" 
              id="password" 
              formControlName="password" 
              class="entrada" 
              [ngClass]="{'entrada-error': formularioPasword.get('password')?.invalid && formularioPasword.get('password')?.touched}"
            >
            <div class="icono-campo">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
            </div>
          </div>
          <small class="mensaje-error" *ngIf="formularioPasword.get('password')?.invalid && formularioPasword.get('password')?.touched">
            La contraseña debe tener al menos 4 caracteres
          </small>
        </div>
  
        <div class="campo-grupo">
          <label for="confirmarPassword" class="etiqueta">Confirmar Contraseña</label>
          <div class="campo-entrada">
            <input 
              type="password" 
              id="confirmarPassword" 
              formControlName="confirmarPassword" 
              class="entrada"
              [ngClass]="{'entrada-error': formularioPasword.get('confirmarPassword')?.invalid && formularioPasword.get('confirmarPassword')?.touched}"
            >
            <div class="icono-campo">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
              </svg>
            </div>
          </div>
          <small class="mensaje-error" *ngIf="formularioPasword.get('confirmarPassword')?.invalid && formularioPasword.get('confirmarPassword')?.touched">
            La confirmación de contraseña debe tener al menos 4 caracteres
          </small>
        </div>
  
        <div class="alerta alerta-error" *ngIf="mensajeError">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>
          <span>{{ mensajeError }}</span>
        </div>
  
        <div class="alerta alerta-exito" *ngIf="mensajeExito">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
          <span>{{ mensajeExito }}</span>
        </div>
  
        <button 
          type="submit" 
          class="boton-enviar" 
          [disabled]="formularioPasword.invalid || estaCargando"
        >
          <span *ngIf="!estaCargando">Cambiar Contraseña</span>
          <div class="cargador" *ngIf="estaCargando">
            <div class="circulo"></div>
            <div class="circulo"></div>
            <div class="circulo"></div>
          </div>
        </button>
  
        <div class="enlaces">
          <a [routerLink]="['/dashboard']" class="enlace">Cancelar</a>
        </div>
      </form>
    </div>
  </div>